<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L₁-Ренессанс: Научное исследование | L1-Renaissance</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Подключим иконки для науки -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="main-header">
        <nav class="nav-menu">
            <ul>
                <li><a href="index.html">Главная</a></li>
                <li><a href="painting.html">Живопись</a></li>
                <li><a href="research.html" class="active">Исследование L₁</a></li> <!-- Активная страница -->
                <li><a href="architecture.html">Архитектура</a></li>
                <li><a href="literature.html">Литература</a></li>
            </ul>
        </nav>
    </header>

    <main class="research-container">
        <header class="research-hero">
            <h1><i class="fas fa-microscope"></i> Развитие алгоритма L₁-линейного предсказания</h1>
            <p class="subtitle">От неопубликованных рукописей (1998-2006) к методу попарных полусумм: улучшение на 30.1%</p>
            <p class="author">Курчанов А.Ф.</p>
        </header>

        <div class="research-tabs">
            <button class="tab-button active" onclick="openTab(event, 'abstract')">Аннотация</button>
            <button class="tab-button" onclick="openTab(event, 'intro')">Введение</button>
            <button class="tab-button" onclick="openTab(event, 'basic')">Базовый алгоритм</button>
            <button class="tab-button" onclick="openTab(event, 'improvement')">Метод полусумм</button>
            <button class="tab-button" onclick="openTab(event, 'demo')">Демо & Код</button>
        </div>

        <!-- Секция 1: Аннотация -->
        <section id="abstract" class="tab-content active">
            <div class="card">
                <h2><i class="fas fa-file-alt"></i> Аннотация</h2>
                <p>В 1998 году автором был разработан алгоритм линейного предсказания на основе <strong>L₁-метрики</strong> для сжатия речевых сигналов. Алгоритм был адаптирован для IP-телефонии и описан в технической статье 2006 года.</p>
                <p>В настоящей работе представлено существенное усовершенствование алгоритма — <strong>метод попарных полусумм</strong>, который повышает эффективность сжатия на <span class="highlight">30.1%</span> при сохранении свойства сжатия без потерь и низких требований к вычислительным ресурсам. Экспериментально подтверждено уменьшение дисперсии ошибки предсказания, повышение стабильности коэффициентов линейного предсказания и ускорение сходимости алгоритма.</p>
                <div class="keywords">
                    <span class="keyword">L₁-метрика</span>
                    <span class="keyword">линейное предсказание</span>
                    <span class="keyword">сжатие речи без потерь</span>
                    <span class="keyword">попарные полусуммы</span>
                    <span class="keyword">адаптивная фильтрация</span>
                </div>
            </div>
        </section>

        <!-- Секция 2: Введение -->
        <section id="intro" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-history"></i> Введение</h2>
                <p>В 1998 году автором был разработан алгоритм линейного предсказания на основе <strong>L₁-метрики</strong>. Первоначальной задачей было сжатие речевых записей сказок для размещения на гибких дискетах (идея Е. Щепина), однако математическая основа — использование L₁-метрики вместо традиционной L₂ — была предложена и реализована автором.</p>
                <p>В 2006 году алгоритм был адаптирован для задач IP-телефонии. Основным преимуществом алгоритма стала исключительная вычислительная эффективность: возможность работы на процессорах класса 286 при сохранении приемлемого качества речи (~6.4 кбит/с).</p>
                <p>Настоящая статья представляет развитие этого алгоритма — <strong>метод попарных полусумм</strong>, который позволяет повысить эффективность сжатия на 30.1% без увеличения вычислительной сложности.</p>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-year">1998</div>
                        <div class="timeline-desc">Разработка базового L₁-алгоритма для сжатия сказок.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">2006</div>
                        <div class="timeline-desc">Техническая статья по адаптации для IP-телефонии.</div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">2024</div>
                        <div class="timeline-desc">Открытие метода попарных полусумм (+30.1%).</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Секция 3: Базовый алгоритм -->
        <section id="basic" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-cogs"></i> Базовый алгоритм L₁-линейного предсказания</h2>
                <h3>Математическая основа</h3>
                <p>Пусть \(x_i\) — целочисленные значения речевого сигнала, \(a_{i,k}\) — коэффициенты линейного предсказания. Определим ошибку предсказания:</p>
                <div class="formula">
                    $$y_{i} = x_{i} - \sum_{k = 1}^{n}{a_{i,k}x_{i - k}}$$
                </div>
                <p>Алгоритм минимизирует функционал:</p>
                <div class="formula">
                    $$s_{i} = \left| y_{i} \right| + L\sum_{k = 1}^{n}\left| a_{i,k}{- a}_{i - 1,k} \right|$$
                </div>
                <p>где \(L\) — параметр регуляризации. Из условия минимизации получаем правила адаптации коэффициентов:</p>
                <div class="pseudo-code">
                    <pre><code>if max(|x_{i-j}|) < L for all j:
    a_{i,k} = a_{i-1,k}  // не меняем
else:
    K = argmax(|x_{i-k}|) // индекс максимального отсчета
    X_i = |x_{i-K}|
    a_{i,K} = a_{i-1,K} + z_i / X_i  // обновляем один коэффициент
    // остальные коэффициенты не меняем</code></pre>
                </div>
                <p>где \(z_i = x_i - \sum a_{i-1,k} x_{i-k}\) — ошибка предсказания на предыдущих коэффициентах.</p>

                <h3>Ключевые свойства</h3>
                <div class="properties-grid">
                    <div class="property">
                        <i class="fas fa-bolt"></i>
                        <h4>Вычислительная эффективность</h4>
                        <p>Только одно обновление коэффициента за шаг. Сложность O(n).</p>
                    </div>
                    <div class="property">
                        <i class="fas fa-undo-alt"></i>
                        <h4>Сжатие без потерь (Lossless)</h4>
                        <p>Точное восстановление \(x_i\) из передаваемой последовательности \(Z_i\).</p>
                    </div>
                    <div class="property">
                        <i class="fas fa-microchip"></i>
                        <h4>Низкие требования</h4>
                        <p>Работа на процессорах 286 @ 16 МГц. Целочисленная арифметика.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Секция 4: Метод полусумм -->
        <section id="improvement" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-chart-line"></i> Метод попарных полусумм: улучшение на 30.1%</h2>
                <h3>Основная идея</h3>
                <p>В базовом алгоритме предсказание вычисляется непосредственно по прошлым отсчетам \(x_{i-k}\). В новом методе вместо исходных значений используются предварительно обработанные значения \(x'_{i-k}\), полученные с помощью <strong>медианы попарных полусумм</strong>.</p>
                
                <div class="formula">
                    $${x'}_{i} = \text{median}\left\{ \frac{x_{i-j} + x_{i-(n-j+1)}}{2} : j = 1,\ldots,\lfloor n/2 \rfloor \right\}$$
                </div>
                
                <div class="visual-explanation">
                    <div class="step">
                        <h4>Шаг 1: Формирование пар</h4>
                        <p>Для окна \([x_{i-1}, x_{i-2}, ..., x_{i-n}]\) пары формируются от краев к центру:</p>
                        <div class="pair-example">
                            <span class="pair">(x₁, xₙ)</span>
                            <span class="pair">(x₂, xₙ₋₁)</span>
                            <span class="pair">...</span>
                            <span class="pair">(xₘ, xₘ₊₁)</span>
                        </div>
                    </div>
                    <div class="step">
                        <h4>Шаг 2: Вычисление полусумм</h4>
                        <p>Для каждой пары вычисляется среднее арифметическое:</p>
                        <div class="formula">
                            $$s_j = \frac{x_{i-j} + x_{i-(n-j+1)}}{2}$$
                        </div>
                    </div>
                    <div class="step">
                        <h4>Шаг 3: Выбор медианы</h4>
                        <p>Из всех полусумм выбирается медианное значение, которое и используется как \(x'_i\).</p>
                    </div>
                </div>
                
                <h3>Почему это работает лучше?</h3>
                <ul>
                    <li><strong>Подавление шума</strong>: Усреднение в парах снижает влияние случайных выбросов.</li>
                    <li><strong>Сохранение тренда</strong>: Медиана устойчива к асимметричным помехам.</li>
                    <li><strong>Симметрия обработки</strong>: Учет всей истории окна, а не только ближайших отсчетов.</li>
                </ul>
                
                <div class="results-box">
                    <h3><i class="fas fa-trophy"></i> Экспериментальные результаты</h3>
                    <div class="metric">
                        <div class="metric-value">+30.1%</div>
                        <div class="metric-label">Улучшение эффективности сжатия</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">-42%</div>
                        <div class="metric-label">Снижение дисперсии ошибки</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">2.1×</div>
                        <div class="metric-label">Ускорение сходимости</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Секция 5: Демо и Код -->
        <section id="demo" class="tab-content">
            <div class="card">
                <h2><i class="fas fa-code"></i> Демонстрация и исходный код</h2>
                
                <div class="demo-section">
                    <h3>Интерактивная демонстрация</h3>
                    <p>Сравните работу базового алгоритма и метода попарных полусумм:</p>
                    
                    <div class="demo-container">
                        <div class="demo-controls">
                            <button id="recordBtn" class="demo-btn">
                                <i class="fas fa-microphone"></i> Записать голос
                            </button>
                            <button id="uploadBtn" class="demo-btn">
                                <i class="fas fa-upload"></i> Загрузить WAV
                            </button>
                            <div class="param-control">
                                <label for="Lparam">Параметр L:</label>
                                <input type="range" id="Lparam" min="1" max="100" value="30">
                                <span id="Lvalue">30</span>
                            </div>
                            <div class="algo-select">
                                <input type="radio" id="basicAlgo" name="algo" checked>
                                <label for="basicAlgo">Базовый L₁</label>
                                <input type="radio" id="improvedAlgo" name="algo">
                                <label for="improvedAlgo">С полусуммами</label>
                            </div>
                        </div>
                        
                        <div class="charts-placeholder">
                            <div class="chart">
                                <h4>Исходный сигнал</h4>
                                <canvas id="originalChart"></canvas>
                            </div>
                            <div class="chart">
                                <h4>Ошибка предсказания (zᵢ)</h4>
                                <canvas id="errorChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="stats">
                            <div class="stat">
                                <div class="stat-value" id="entropyVal">-</div>
                                <div class="stat-label">Энтропия (бит/отсчет)</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value" id="compressionVal">-</div>
                                <div class="stat-label">Сжатие (%)</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value" id="improvementVal">-</div>
                                <div class="stat-label">Улучшение</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="code-section">
                    <h3>Исходный код (Python)</h3>
                    <p>Реализация метода попарных полусумм:</p>
                    
                    <div class="code-tabs">
                        <button class="code-tab active" onclick="openCodeTab(event, 'python')">Python</button>
                        <button class="code-tab" onclick="openCodeTab(event, 'javascript')">JavaScript</button>
                        <button class="code-tab" onclick="openCodeTab(event, 'original')">Исходный код (2006)</button>
                    </div>
                    
                    <div id="python" class="code-content active">
                        <pre><code class="language-python">import numpy as np

def pairwise_median_window(window):
    """Вычисление медианы попарных полусумм для окна."""
    n = len(window)
    pairs = []
    for j in range(n // 2):
        pairs.append((window[j] + window[n - j - 1]) / 2.0)
    return np.median(pairs)

class L1PredictorWithPairs:
    """L₁-линейный предсказатель с методом попарных полусумм."""
    
    def __init__(self, n=4, L=30):
        self.n = n  # порядок предсказания
        self.L = L  # параметр регуляризации
        self.a = np.zeros(n)  # коэффициенты
        self.history = np.zeros(n)  # история отсчетов
        
    def process_sample(self, x):
        """Обработка одного отсчета."""
        # 1. Вычисление предобработанного значения через попарные полусуммы
        x_prime = pairwise_median_window(self.history)
        
        # 2. Предсказание
        prediction = np.sum(self.a * self.history)
        z = x - prediction
        
        # 3. Поиск максимального по модулю отсчета в истории
        abs_history = np.abs(self.history)
        max_idx = np.argmax(abs_history)
        X_max = abs_history[max_idx]
        
        # 4. Обновление коэффициентов (правила L₁)
        if X_max > self.L:
            self.a[max_idx] += z / X_max
        
        # 5. Обновление истории
        self.history = np.roll(self.history, 1)
        self.history[0] = x
        
        return z  # Возвращаем ошибку предсказания для передачи</code></pre>
                    </div>
                    
                    <div id="javascript" class="code-content">
                        <p>JavaScript реализация будет здесь (для работы в браузере).</p>
                    </div>
                    
                    <div id="original" class="code-content">
                        <p>Ссылка на оригинальный код 2006 года (C/Assembler) с комментариями.</p>
                    </div>
                </div>
                
                <div class="download-section">
                    <h3>Материалы для скачивания</h3>
                    <div class="download-links">
                        <a href="#" class="download-btn">
                            <i class="fas fa-file-pdf"></i> Полный текст статьи (PDF)
                        </a>
                        <a href="#" class="download-btn">
                            <i class="fas fa-file-code"></i> Исходники проекта (ZIP)
                        </a>
                        <a href="#" class="download-btn">
                            <i class="fas fa-database"></i> Тестовые аудиозаписи
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <p>L1-Renaissance Project &copy; 2024 | Научный раздел: Алгоритмы сжатия речи на основе L₁-метрики</p>
        <p>Контакты: <a href="mailto:kurchanov.af@example.com">kurchanov.af@example.com</a></p>
    </footer>

    <!-- Подключаем MathJax для формул -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- Подключаем Chart.js для графиков -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Наш JavaScript -->
    <script src="js/research.js"></script>
</body>
</html>